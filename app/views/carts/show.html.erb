<h1>Carrinho</h1>

<table>
  <tr>
    <th>Nome Produto</th>
    <th>Quantidade</th>
    <th>Price</th>
    <th>Total</th>
    <th>Atualizar</th>
    <th>Excluir</th>
  </tr>
  <% @cart.cartships.each do |cartship| %>
    <tr>
      <td><%= cartship.product.name %></td>

      <%= form_for cartship, :url => {:controller => 'cartships', :action => 'update', id: cartship} do |f| %>
      <td>
        <%= f.number_field :quantity, :value => cartship.quantity %>
        <%= submit_tag "Update" %>
      </td>
      <% end %>

      <!-- <td><input type="number" name="" value="<%# cartship.quantity %>" style="width: 70px;"></td> -->
      <!-- <td><%# cartship.number_field :quantity %></td> -->
      <td><%= number_to_currency(cartship.product.price, unit: 'R$ ') %></td>
      <td><%= number_to_currency(cartship.product.price * cartship.quantity, unit: 'R$ ') %></td>
      <td><%= link_to 'Excluir', cartship, method: :delete, data: { confirm: 'VocÃª tem certeza?' } %></td>
    </tr>
  <% end %>
  <tr>
    <td colspan="3"><b>Total</b></td>
    <td><%= number_to_currency(@cart.total_price, unit: 'R$ ') %></td>
  </tr>
</table>

<p><%= link_to "Voltar", products_path %></p>
